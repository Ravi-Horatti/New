<!DOCTYPE html>
<html lang="en">
  <head>
    <title>REST API'S.</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <link href="https://fonts.googleapis.com/css?family=Barlow+Semi+Condensed:100,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

    <link rel="stylesheet" href="css/open-iconic-bootstrap.min.css">
    <link rel="stylesheet" href="css/animate.css">
    
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    <link rel="stylesheet" href="css/magnific-popup.css">

    <link rel="stylesheet" href="css/aos.css">

    <link rel="stylesheet" href="css/ionicons.min.css">

    <link rel="stylesheet" href="css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="css/jquery.timepicker.css">

    
    <link rel="stylesheet" href="css/flaticon.css">
    <link rel="stylesheet" href="css/icomoon.css">
    <link rel="stylesheet" href="css/style.css">
  </head>
  
  
  <style>
/* Popup container - can be anything you want */
.popup .popup1 .popup2{
  position: relative;
  display: inline-block;
  cursor: pointer;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* The actual popup */
.popup .popup1 .popup2 .popuptext {
  visibility: hidden;
  
  background-color: red;
  color: #fff;
  text-align: left;
  border-radius: 6px;
  padding: 8px 0;
  position: absolute;
  z-index: 1;
  bottom: 125%;
  left: 50%;
  margin-left: -80px;
}

/* Popup arrow */
.popup .popup1 .popup2 .popuptext::after {
  content: "";
  position: absolute;
  top: 100%;
  left: 50%;
  margin-left: -5px;
  border-width: 5px;
  border-style: solid;
  border-color: #555 transparent transparent transparent;
}

/* Toggle this class - hide and show the popup */
.popup .popup1 .popup2 .show {
  visibility: visible;
  -webkit-animation: fadeIn 1s;
  animation: fadeIn 1s;
}

/* Add animation (fade in the popup) */
@-webkit-keyframes fadeIn {
  from {opacity: 0;} 
  to {opacity: 1;}
}

@keyframes fadeIn {
  from {opacity: 0;}
  to {opacity:1 ;}
}
</style>
  
  <body style="background: grey;">
  	<nav class="navbar navbar-expand-lg navbar-dark ftco_navbar b<nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
      <div class="container">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="oi oi-menu"></span> Menu
        </button>
        <div class="collapse navbar-collapse" id="ftco-nav">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item"><a href="index.html" class="nav-link">Home</a></li>
            <li class="nav-item"><a href="new.html" class="nav-link">Categories</a></li>
          
            <li class="nav-item"><a href="" class="nav-link">Contact</a></li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- END nav -->

    <section class="hero-wrap js-fullheight" style="background-image: url('images/func_bg.png'); height:500px;">
      <div class="overlay"></div>
      <div class="container">
        <div class="row no-gutters slider-text js-fullheight align-items-center justify-content-center">
          <div class="col-md-9 ftco-animate text-center">
            <h1 class="mb-3 bread">REST API 's</h1>
            
          </div>
        </div>
      </div>
    </section>
    
    <section class="ftco-appointment" style = "height:800px;background:orange;">
			<div class="overlay"></div>
    	<div class="container-wrap" style = "margin-top:-200px;">
    		<div class="row no-gutters d-md-flex align-items-center" style = "margin-top:-100px;">
    			
	    		<div class="col-md-6 appointment ftco-animate"style = "margin-top:-50px;">
	    			<h2  > All categories</h2>
	    			<form  class="appointment-form">
	    				<div class="d-md-flex">
	    				</div>
	    			
		            <div class="popup">
		            <div class="form-group ml-md-4">
		              <input type="submit" value="List Categories" class="btn btn-primary py-3 px-4" id="btn-post" onclick="myFunction()";">
		            </div>
<span class="popuptext" id="myPopup"></span>
	    				</div>
	    			</form>
	    			
	    			<h3  >Add New a category</h3>
	    		<form action="#" class="appointment-form">
	    				<div class="d-md-flex">
		    				<div class="form-group">
		    					<input id = "addcatname" type="text" class="form-control" placeholder="category name">
		    				</div>
	    			
		            
		            <div class="form-group ml-md-4">
		              <input type="submit" value="Add category" class="btn btn-primary py-3 px-4" id="btn-post" onclick="addcategory()">
		            </div>
	    				</div>
	    			</form>   
	    			<h3  >Remove a category</h3>
	    			<form action="#" class="appointment-form">
	    				<div class="d-md-flex">
		    				<div class="form-group">
		    					<input id = "rmname" type="text" class="form-control" placeholder="category name">
		    				</div>
	    			
		            
		            <div class="form-group ml-md-4">
		              <input type="submit" value="Remove category" class="btn btn-primary py-3 px-4" id="btn-post" onclick="rm_category();">
		            </div>
	    				</div>
	    			</form>   
	    			<h3  >Acts of a category</h3>
	    		<form action="#" class="appointment-form">
	    		<div class="form-group">
		    					<input id = "listact" style="width:100px;" type="text" class="form-control" placeholder="category name">
		    				</div>
	    				<div class="popup">
		            <div class="form-group ml-md-4">
		              <input type="submit" value="List all of this category" class="btn btn-primary py-3 px-4" id="btn-post" onclick="myFunction_cat()";">
		            </div>
<span class="popuptext" id="myPopup1"></span>
	    				</div>
	    			</form>  
	    		
	    		
	    		
	    		</div> 
	    					
    		</div>
    	</div>
    	
    	<script type="text/javascript">
    	
    	function myFunction_cat() {
    	alert("entered");
          var popup = document.getElementById("myPopup1");
          popup.classList.toggle("show");
        var req = new XMLHttpRequest();
        req.onreadystatechange = function()
        {
          if(this.readyState == 4 && this.status == 200) {
            popup.innerHTML = this.responseText;
          } else {
            //alert(this.status);
          }
        }
        
        url = ' http://127.0.0.1:5000/api/v1/categories/' + document.getElementById('listact').value + '/acts';
        req.open('GET', url, true);
        req.setRequestHeader('content-type', 'application/x-www-form-urlencoded;charset=utf-8');
        var sent = {}
        var data = JSON.stringify(sent);
        req.send(data);
        
      }
      
      
      function myFunction() {
          var popup = document.getElementById("myPopup");
          popup.classList.toggle("show");
        var req = new XMLHttpRequest();
        req.onreadystatechange = function()
        {
          if(this.readyState == 4 && this.status == 200) {
            popup.innerHTML = this.responseText;
          } else if (this.status != 200) {
            alert(this.status);
          }
        }
        req.open('GET', ' http://127.0.0.1:5000/api/v1/categories', true);
        req.setRequestHeader('content-type', 'application/x-www-form-urlencoded;charset=utf-8');
        var sent = {}
        var data = JSON.stringify(sent);
        req.send(data);
        
      }
      
      
      function addcategory() {
      alert("Successfully Entered");
      var req = new XMLHttpRequest();
        req.onreadystatechange = function()
        {
          if(this.readyState == 4 && this.status == 200) {
            alert(this.responseText);
          } else  if(this.status != 200){
            alert(this.status);
          }
        } 
        
      
      url = 'http://127.0.0.1:5000/api/v1/categories';
        req.open('POST',url, true);
        req.setRequestHeader('content-type', 'application/x-www-form-urlencoded;charset=utf-8');
        var sent = [document.getElementById('addcatname').value] ;
        var data = JSON.stringify(sent);
        req.send(data);
        }
      
      
      function rm_category() {
        var req = new XMLHttpRequest();
        req.onreadystatechange = function()
        {
          if(this.readyState == 4 && this.status == 200) {
            alert(this.responseText);
          } else if (this.status != 200) {
            alert(this.status);
          }
        }
        
        url = ' http://127.0.0.1:5000/api/v1/categories/'+document.getElementById('rmname').value
        alert("Sadas");
        req.open('DELETE',url, true);
        req.setRequestHeader('content-type', 'application/x-www-form-urlencoded;charset=utf-8');
        var sent = {}
        var data = JSON.stringify(sent);
        req.send(data);
        
      }
      
    </script>
    	
    </section>

    <section class="ftco-appointment" style = "background:white;height:500px;">
			<div class="overlay"></div>
    	<div class="container-wrap" style = "margin-top:-50px;">
    		
	    		<div class="col-md-6 appointment ftco-animate">
	    		<h3> List total count of acts</h3>
	    		<form  class="appointment-form">
	    		<div class="form-group">
		    					<input id = "listactsize" style="width:100px;" type="text" class="form-control" placeholder="category name">
		    				</div>
	    				<div class="popup">
		            <div class="form-group ml-md-4">
		              <input type="submit" value="List total acts count" class="btn btn-primary py-3 px-4" id="btn-post" onclick="myFunction_cat_size()";">
0		            </div>
<span class="popuptext" id="myPopup2"></span>
	    				</div>
	    			</form> 
	    			
	    			
	    			<form action="#" class="appointment-form">
	    				<div class="d-md-flex">
		    				<div class="form-group">
		    					<input id = "rmact" type="text" class="form-control" placeholder="act id">
		    				</div>
	    			
		            
                <div class="form-group ml-md-4">
                  <input type="submit" value="Remove act" class="btn btn-primary py-3 px-4" id="btn-post" onclick="rm_act();">
                </div>
              </div>
            </form>  
            <h3> List acts  in given range</h3>
          <form  class="appointment-form">
          <div class="form-group">
                  <input id = "liststart" style="width:100px;" type="text" class="form-control" placeholder="Start range">
                  <input id = "listend" style="width:100px;" type="text" class="form-control" placeholder="End range">
                  <input id = "list_cat_range" style="width:100px;" type="text" class="form-control" placeholder="category">
    
                </div>
              <div class="popup">
                <div class="form-group ml-md-4">
                  <input type="submit" value="List all of this category" class="btn btn-primary py-3 px-4" id="btn-post" onclick="myFunction_cat_range()";">
0               </div>
<span class="popuptext" id="myPopup3"></span>
              </div>
            </form> 
          </div>          
        </div>
      </div>
      
    <script type="text/javascript">
    	
    	function myFunction_cat_range() {
    	alert("Entered");
          var popup = document.getElementById("myPopup3");
          popup.classList.toggle("show");
        var req = new XMLHttpRequest();
        req.onreadystatechange = function()
        {
          if(this.readyState == 4 && this.status == 200) {
            popup.innerHTML = this.responseText;
          } else {
            //alert(this.status);
          }
        }
        
        url = ' http://127.0.0.1:5000/api/v1/categories/' + document.getElementById('list_cat_range').value + '/acts?start='+document.getElementById('liststart').value+'&end='+document.getElementById('listend').value;
        req.open('GET', url, true);
        req.setRequestHeader('content-type', 'application/x-www-form-urlencoded;charset=utf-8');
        var sent = {}
        var data = JSON.stringify(sent);
        req.send(data);
        
      }
    	
    	
    	
    	function rm_act() {
    	alert("entered");
        var req = new XMLHttpRequest();
        req.onreadystatechange = function()
        {
          if(this.readyState == 4 && this.status == 200) {
            popup.innerHTML = this.responseText;
          } else  if(this.status != 200){
            alert(this.status);
          }
        }
        
        url = ' http://127.0.0.1:5000/api/v1/acts/' + document.getElementById('rmact').value ;
        req.open('DELETE', url, true);
        
        req.setRequestHeader('content-type', 'application/x-www-form-urlencoded;charset=utf-8');
        var sent = {}
        var data = JSON.stringify(sent);
        req.send(data);
        alert("asdsa");
        
      }	
    	
    	
    	
    	function myFunction_cat_size() {
    	alert("entered");
          var popup = document.getElementById("myPopup2");
          popup.classList.toggle("show");
        var req = new XMLHttpRequest();
        req.onreadystatechange = function()
        {
          if(this.readyState == 4 && this.status == 200) {
            popup.innerHTML = this.responseText;
          } else  if(this.status != 200){
            alert(this.status);
          }
        }
        url = ' http://127.0.0.1:5000/api/v1/categories/' + document.getElementById('listactsize').value + '/acts/size';
        req.open('GET', url, true);
        req.setRequestHeader('content-type', 'application/x-www-form-urlencoded;charset=utf-8');
        var sent = {}
        var data = JSON.stringify(sent);
        req.send(data);
        
      }	
  </script>
    </section>
    
    
    
    
    
    <section class="ftco-appointment" style = "color:yellow;height:300px;">
			<div class="overlay"></div>
    	<div class="container-wrap">
    		<div class="row no-gutters d-md-flex align-items-center">
    			
	    		<div class="col-md-6 appointment ftco-animate">
	    			<h2 class="mb-3" style="margin-top=-1000px;">Remove user</h2>
	    			<form action="#" class="appointment-form">
	    				<div class="d-md-flex">
		    				<div class="form-group">
		    					<input id = "delname" type="text" class="form-control" placeholder="unique username">
		    				</div>
	    			
		            
		            <div class="form-group ml-md-4">
		              <input type="submit" value="Remove user" class="btn btn-primary py-3 px-4" id="btn-post" onclick="do_delete();">
		            </div>
	    				</div>
	    			</form>
	    		</div>    			
    		</div>
    	</div>
    	
    	<script type="text/javascript">
      function do_delete() {
        var req = new XMLHttpRequest();
        req.onreadystatechange = function()
        {
          if(this.readyState == 4 && this.status == 200) {
            alert(this.responseText);
          } else  if(this.status != 200){
            alert(this.status);
          }
        }
        
        url = ' http://127.0.0.1:5000/api/v1/users/'+document.getElementById('delname').value
        req.open('DELETE',url, true);
        req.setRequestHeader('content-type', 'application/x-www-form-urlencoded;charset=utf-8');
        var sent = {}
        var data = JSON.stringify(sent);
        req.send(data);
        
      }
    </script>
    	
    </section>


   

          
          
        <div class="row">
          
        </div>
      </div>
    </footer>
    
  

 


  <script src="js/jquery.min.js"></script>
  <script src="js/jquery-migrate-3.0.1.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/jquery.easing.1.3.js"></script>
  <script src="js/jquery.waypoints.min.js"></script>
  <script src="js/jquery.stellar.min.js"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="js/aos.js"></script>
  <script src="js/jquery.animateNumber.min.js"></script>
  <script src="js/bootstrap-datepicker.js"></script>
  <script src="js/jquery.timepicker.min.js"></script>
  <script src="js/scrollax.min.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
  <script src="js/google-map.js"></script>
  <script src="js/main.js"></script>
    
  </body>
</html>
